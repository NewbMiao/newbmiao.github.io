<html><head><meta charset="utf8"><title>jquery上传预览</title><meta name="generator" content="Hexo 4.2.1"><link rel="alternate" href="/atom.xml" title="菜鸟Miao" type="application/atom+xml"></head><body><script>function PreviewImage(e,t,n){var d=".jpg,.bmp,.gif,.png",r=e.value.substring(e.value.lastIndexOf(".")+1).toLowerCase(),i=window.navigator.userAgent.toUpperCase();-1<d.indexOf(r)?e.files?window.FileReader?((r=new FileReader).onload=function(e){document.getElementById(t).setAttribute("src",e.target.result)},r.readAsDataURL(e.files[0])):-1<i.indexOf("SAFARI")&&alert("不支持Safari6.0以下浏览器的图片预览!"):-1<i.indexOf("MSIE")?-1<i.indexOf("MSIE 6")?document.getElementById(t).setAttribute("src",e.value):(e.select(),-1<i.indexOf("MSIE 9")&&e.blur(),null==(r=document.getElementById(n+"New"))&&((r=document.createElement("div")).setAttribute("id",n+"New"),r.style.width=document.getElementById(t).width+"px",r.style.height=document.getElementById(t).height+"px",r.style.border="solid 1px #d2e2e2"),r.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(sizingMethod='scale',src='"+document.selection.createRange().text+"')",(n=document.getElementById(n)).parentNode.insertBefore(r,n),n.style.display="none"):-1<i.indexOf("FIREFOX")?parseFloat(i.toLowerCase().match(/firefox\/([\d.]+)/)[1])<7?document.getElementById(t).setAttribute("src",e.files[0].getAsDataURL()):document.getElementById(t).setAttribute("src",window.URL.createObjectURL(e.files[0])):document.getElementById(t).setAttribute("src",e.value):(alert("仅支持"+d+"为后缀名的文件!"),e.value="",-1<i.indexOf("MSIE")&&(e.select(),document.selection.clear()),e.outerHTML=e.outerHTML)}</script><div><dd><dl class="dl_apply"><dt>预览：</dt><dd><div class="div1"><div class="div2">选择文件</div><input type="file" class="inputstyle" name="headimg" onchange='PreviewImage(this,"imgHeadPhoto","divPreview")'> <span class="profile"><div id="divPreview"><img src="img/img_default_apply.gif" alt="" id="imgHeadPhoto" style="width:150px;height:150px"></div></span></div></dd></dl></dd></div></body></html>